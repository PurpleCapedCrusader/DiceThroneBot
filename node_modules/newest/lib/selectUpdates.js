"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.selectUpdates = selectUpdates;

var _prompts = _interopRequireDefault(require("prompts"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function selectUpdates(currentVersions, updateVersions) {
  var _await$prompts$value;

  const updates = new Map();
  const selected = (_await$prompts$value = (await (0, _prompts.default)({
    type: "multiselect",
    name: "value",
    message: "Pick Updates",
    choices: [...updateVersions.keys()].map(name => {
      return {
        title: `${name} (${currentVersions.get(name)} -> ${updateVersions.get(name)})`,
        value: name
      };
    }),
    instructions: false,
    hint: "[space] to select, [enter] to submit, [a] for all"
  })).value) !== null && _await$prompts$value !== void 0 ? _await$prompts$value : [];

  for (const name of [...updateVersions.keys()]) {
    if (selected.includes(name)) {
      updates.set(name, updateVersions.get(name));
    }
  }

  return updates;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zZWxlY3RVcGRhdGVzLnRzIl0sIm5hbWVzIjpbInNlbGVjdFVwZGF0ZXMiLCJjdXJyZW50VmVyc2lvbnMiLCJ1cGRhdGVWZXJzaW9ucyIsInVwZGF0ZXMiLCJNYXAiLCJzZWxlY3RlZCIsInR5cGUiLCJuYW1lIiwibWVzc2FnZSIsImNob2ljZXMiLCJrZXlzIiwibWFwIiwidGl0bGUiLCJnZXQiLCJ2YWx1ZSIsImluc3RydWN0aW9ucyIsImhpbnQiLCJpbmNsdWRlcyIsInNldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBR08sZUFBZUEsYUFBZixDQUNMQyxlQURLLEVBRUxDLGNBRkssRUFHeUI7QUFBQTs7QUFDOUIsUUFBTUMsT0FBTyxHQUFHLElBQUlDLEdBQUosRUFBaEI7QUFFQSxRQUFNQyxRQUFRLDJCQUNaLENBQ0UsTUFBTSxzQkFBUTtBQUNaQyxJQUFBQSxJQUFJLEVBQUUsYUFETTtBQUVaQyxJQUFBQSxJQUFJLEVBQUUsT0FGTTtBQUdaQyxJQUFBQSxPQUFPLEVBQUUsY0FIRztBQUlaQyxJQUFBQSxPQUFPLEVBQUUsQ0FBQyxHQUFHUCxjQUFjLENBQUNRLElBQWYsRUFBSixFQUEyQkMsR0FBM0IsQ0FBZ0NKLElBQUQsSUFBVTtBQUNoRCxhQUFPO0FBQ0xLLFFBQUFBLEtBQUssRUFBRyxHQUFFTCxJQUFLLEtBQUlOLGVBQWUsQ0FBQ1ksR0FBaEIsQ0FDakJOLElBRGlCLENBRWpCLE9BQU1MLGNBQWMsQ0FBQ1csR0FBZixDQUFtQk4sSUFBbkIsQ0FBeUIsR0FINUI7QUFJTE8sUUFBQUEsS0FBSyxFQUFFUDtBQUpGLE9BQVA7QUFNRCxLQVBRLENBSkc7QUFZWlEsSUFBQUEsWUFBWSxFQUFFLEtBWkY7QUFhWkMsSUFBQUEsSUFBSSxFQUFFO0FBYk0sR0FBUixDQURSLEVBZ0JFRixLQWpCVSx1RUFpQkEsRUFqQmQ7O0FBbUJBLE9BQUssTUFBTVAsSUFBWCxJQUFtQixDQUFDLEdBQUdMLGNBQWMsQ0FBQ1EsSUFBZixFQUFKLENBQW5CLEVBQStDO0FBQzdDLFFBQUlMLFFBQVEsQ0FBQ1ksUUFBVCxDQUFrQlYsSUFBbEIsQ0FBSixFQUE2QjtBQUMzQkosTUFBQUEsT0FBTyxDQUFDZSxHQUFSLENBQVlYLElBQVosRUFBa0JMLGNBQWMsQ0FBQ1csR0FBZixDQUFtQk4sSUFBbkIsQ0FBbEI7QUFDRDtBQUNGOztBQUVELFNBQU9KLE9BQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9tcHRzIGZyb20gXCJwcm9tcHRzXCI7XG5pbXBvcnQgeyBTZW1WZXIgfSBmcm9tIFwic2VtdmVyXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RVcGRhdGVzKFxuICBjdXJyZW50VmVyc2lvbnM6IE1hcDxzdHJpbmcsIFNlbVZlciB8IHN0cmluZz4sXG4gIHVwZGF0ZVZlcnNpb25zOiBNYXA8c3RyaW5nLCBTZW1WZXI+XG4pOiBQcm9taXNlPE1hcDxzdHJpbmcsIFNlbVZlcj4+IHtcbiAgY29uc3QgdXBkYXRlcyA9IG5ldyBNYXA8c3RyaW5nLCBTZW1WZXI+KCk7XG5cbiAgY29uc3Qgc2VsZWN0ZWQgPVxuICAgIChcbiAgICAgIGF3YWl0IHByb21wdHMoe1xuICAgICAgICB0eXBlOiBcIm11bHRpc2VsZWN0XCIsXG4gICAgICAgIG5hbWU6IFwidmFsdWVcIixcbiAgICAgICAgbWVzc2FnZTogXCJQaWNrIFVwZGF0ZXNcIixcbiAgICAgICAgY2hvaWNlczogWy4uLnVwZGF0ZVZlcnNpb25zLmtleXMoKV0ubWFwKChuYW1lKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiBgJHtuYW1lfSAoJHtjdXJyZW50VmVyc2lvbnMuZ2V0KFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApfSAtPiAke3VwZGF0ZVZlcnNpb25zLmdldChuYW1lKX0pYCxcbiAgICAgICAgICAgIHZhbHVlOiBuYW1lLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBpbnN0cnVjdGlvbnM6IGZhbHNlLFxuICAgICAgICBoaW50OiBcIltzcGFjZV0gdG8gc2VsZWN0LCBbZW50ZXJdIHRvIHN1Ym1pdCwgW2FdIGZvciBhbGxcIixcbiAgICAgIH0gYXMgYW55KVxuICAgICkudmFsdWUgPz8gKFtdIGFzIHN0cmluZ1tdKTtcblxuICBmb3IgKGNvbnN0IG5hbWUgb2YgWy4uLnVwZGF0ZVZlcnNpb25zLmtleXMoKV0pIHtcbiAgICBpZiAoc2VsZWN0ZWQuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIHVwZGF0ZXMuc2V0KG5hbWUsIHVwZGF0ZVZlcnNpb25zLmdldChuYW1lKSEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1cGRhdGVzO1xufVxuIl19