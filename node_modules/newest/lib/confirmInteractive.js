"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.confirmInteractive = confirmInteractive;

var _prompts = _interopRequireDefault(require("prompts"));

var _delay = _interopRequireDefault(require("delay"));

var _chalk = _interopRequireDefault(require("chalk"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function confirmInteractive() {
  let confirmAnswered = false;
  const confirmed = await Promise.race([(0, _prompts.default)({
    type: "confirm",
    name: "value",
    message: "Do you want to interactively update packages?"
  }).finally(() => {
    confirmAnswered = true;
  }), (0, _delay.default)(10000).then(() => {
    if (!confirmAnswered) console.log();
  })]);

  if (!confirmed || !(confirmed === null || confirmed === void 0 ? void 0 : confirmed.value)) {
    if (confirmed == null) {
      console.log(_chalk.default.gray("Interactive confirmation timed out."));
    }

    return false;
  }

  return true;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25maXJtSW50ZXJhY3RpdmUudHMiXSwibmFtZXMiOlsiY29uZmlybUludGVyYWN0aXZlIiwiY29uZmlybUFuc3dlcmVkIiwiY29uZmlybWVkIiwiUHJvbWlzZSIsInJhY2UiLCJ0eXBlIiwibmFtZSIsIm1lc3NhZ2UiLCJmaW5hbGx5IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJ2YWx1ZSIsImNoYWxrIiwiZ3JheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRU8sZUFBZUEsa0JBQWYsR0FBc0Q7QUFDM0QsTUFBSUMsZUFBZSxHQUFHLEtBQXRCO0FBRUEsUUFBTUMsU0FBUyxHQUFHLE1BQU1DLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLENBQ25DLHNCQUFRO0FBQ05DLElBQUFBLElBQUksRUFBRSxTQURBO0FBRU5DLElBQUFBLElBQUksRUFBRSxPQUZBO0FBR05DLElBQUFBLE9BQU8sRUFBRTtBQUhILEdBQVIsRUFJR0MsT0FKSCxDQUlXLE1BQU07QUFDZlAsSUFBQUEsZUFBZSxHQUFHLElBQWxCO0FBQ0QsR0FORCxDQURtQyxFQVFuQyxvQkFBTSxLQUFOLEVBQWFRLElBQWIsQ0FBa0IsTUFBTTtBQUN0QixRQUFJLENBQUNSLGVBQUwsRUFBc0JTLE9BQU8sQ0FBQ0MsR0FBUjtBQUN2QixHQUZELENBUm1DLENBQWIsQ0FBeEI7O0FBYUEsTUFBSSxDQUFDVCxTQUFELElBQWMsRUFBQ0EsU0FBRCxhQUFDQSxTQUFELHVCQUFDQSxTQUFTLENBQUVVLEtBQVosQ0FBbEIsRUFBcUM7QUFDbkMsUUFBSVYsU0FBUyxJQUFJLElBQWpCLEVBQXVCO0FBQ3JCUSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsZUFBTUMsSUFBTixDQUFXLHFDQUFYLENBQVo7QUFDRDs7QUFFRCxXQUFPLEtBQVA7QUFDRDs7QUFFRCxTQUFPLElBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9tcHRzIGZyb20gXCJwcm9tcHRzXCI7XG5pbXBvcnQgZGVsYXkgZnJvbSBcImRlbGF5XCI7XG5pbXBvcnQgY2hhbGsgZnJvbSBcImNoYWxrXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25maXJtSW50ZXJhY3RpdmUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGxldCBjb25maXJtQW5zd2VyZWQgPSBmYWxzZTtcblxuICBjb25zdCBjb25maXJtZWQgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgIHByb21wdHMoe1xuICAgICAgdHlwZTogXCJjb25maXJtXCIsXG4gICAgICBuYW1lOiBcInZhbHVlXCIsXG4gICAgICBtZXNzYWdlOiBcIkRvIHlvdSB3YW50IHRvIGludGVyYWN0aXZlbHkgdXBkYXRlIHBhY2thZ2VzP1wiLFxuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgY29uZmlybUFuc3dlcmVkID0gdHJ1ZTtcbiAgICB9KSxcbiAgICBkZWxheSgxMDAwMCkudGhlbigoKSA9PiB7XG4gICAgICBpZiAoIWNvbmZpcm1BbnN3ZXJlZCkgY29uc29sZS5sb2coKTtcbiAgICB9KSxcbiAgXSk7XG5cbiAgaWYgKCFjb25maXJtZWQgfHwgIWNvbmZpcm1lZD8udmFsdWUpIHtcbiAgICBpZiAoY29uZmlybWVkID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKGNoYWxrLmdyYXkoXCJJbnRlcmFjdGl2ZSBjb25maXJtYXRpb24gdGltZWQgb3V0LlwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iXX0=